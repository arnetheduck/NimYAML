<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>NimYAML - Module yaml/annotations</title>

  <link href="docutils.css" rel="stylesheet" type="text/css"/>
  <link href="style.css" rel="stylesheet" type="text/css"/>

  <link href='http://fonts.googleapis.com/css?family=Raleway:400,600,900' rel='stylesheet' type='text/css'/>
  <link href='http://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>
</head>
<body>
<a href="https://github.com/flyx/NimYAML"><img style="position: fixed; top: 0; right: 0; border: 0; z-index: 10;" src="https://camo.githubusercontent.com/652c5b9acfaddf3a9c326fa6bde407b87f7be0f4/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6f72616e67655f6666373630302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png"></a>
<header>
  <a class="pagetitle" href="index.html">NimYAML</a>
  <a href="index.html">Home</a>
  <a href="testing.html">Testing Ground</a>
  <span>Docs:</span>
  <a href="api.html">Overview</a>
  <span>
    <a href="#">Serialization</a>
    <ul>
      <li><a href="serialization.html">Overview</a></li>
      <li><a href="schema.html">Schema</a></li>
    </ul>
  </span>
  <span>
    <a href="#">Modules</a>
    <ul class="monospace">
      <li><a href="yaml.html">yaml</a></li>
      <li><a href="yaml.dom.html">yaml.dom</a></li>
      <li><a href="yaml.hints.html">yaml.hints</a></li>
      <li><a href="yaml.parser.html">yaml.parser</a></li>
      <li><a href="yaml.presenter.html">yaml.presenter</a></li>
      <li><a href="yaml.serialization.html">yaml.serialization</a></li>
      <li><a href="yaml.annotations.html">yaml.annotations</a></li>
      <li><a href="yaml.stream.html">yaml.stream</a></li>
      <li><a href="yaml.taglib.html">yaml.taglib</a></li>
      <li><a href="yaml.tojson.html">yaml.tojson</a></li>
    </ul>
  </span>
</header>
<article id="documentId">
  <div class="container">
    <h1 class="title">Module yaml/annotations</h1>
    <div class="row">
  <div class="three columns">
  <div class="theme-switch-wrapper">
    <label class="theme-switch" for="checkbox">
      <input type="checkbox" id="checkbox" />
      <div class="slider round"></div>
    </label>
    &nbsp;&nbsp;&nbsp; <em>Dark Mode</em>
  </div>
  <div id="global-links">
    <ul class="simple">
    <li>
      <a href="theindex.html">Index</a>
    </li>
    </ul>
  </div>
  <div id="searchInputDiv">
    Search: <input type="text" id="searchInput"
      onkeyup="search()" />
  </div>
  <div>
    Group by:
    <select onchange="groupBy(this.value)">
      <option value="section">Section</option>
      <option value="type">Type</option>
    </select>
  </div>
  <ul class="simple simple-toc" id="toc-list">
<li>
  <a class="reference reference-toplevel" href="#18" id="68">Templates</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#defaultVal.t%2Ctyped"
    title="defaultVal(value: typed)">defaultVal</a></li>
  <li><a class="reference" href="#sparse.t"
    title="sparse()">sparse</a></li>
  <li><a class="reference" href="#transient.t"
    title="transient()">transient</a></li>
  <li><a class="reference" href="#ignore.t%2CopenArray%5Bstring%5D"
    title="ignore(keys: openArray[string])">ignore</a></li>
  <li><a class="reference" href="#implicit.t"
    title="implicit()">implicit</a></li>

  </ul>
</li>

</ul>

  </div>
  <div class="nine columns" id="content">
  <div id="tocRoot"></div>
  
  <p class="module-desc"><p>This module provides annotations for object fields that customize (de)serialization behavior of those fields.</p>
</p>
  <section id="18">
<h1><a class="toc-backref" href="#18">Templates</a></h1>
<dl class="item">
<dt id="defaultVal"><a name="defaultVal.t,typed"></a><pre><span class="Keyword">template</span> <a href="#defaultVal.t%2Ctyped"><span class="Identifier">defaultVal</span></a><span class="Other">(</span><span class="Identifier">value</span><span class="Other">:</span> <span class="Identifier">typed</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">pragma</span></span><span class="Other">.}</span></span></pre></dt>
<dd>
<p>This annotation can be put on an object field. During deserialization, if no value for this field is given, the <tt class="docutils literal"><span class="pre">value</span></tt> parameter of this annotation is used as value.</p>
<p>Example usage:</p>
<pre class = "listing"><span class="Keyword">type</span> <span class="Identifier">MyObject</span> <span class="Operator">=</span> <span class="Keyword">object</span>
  <span class="Identifier">a</span> <span class="Punctuation">{</span><span class="Operator">.</span><span class="Identifier">defaultVal</span><span class="Punctuation">:</span> <span class="StringLit">&quot;foo&quot;</span><span class="Operator">.</span><span class="Punctuation">}</span><span class="Punctuation">:</span> <span class="Identifier">string</span>
  <span class="Identifier">c</span> <span class="Punctuation">{</span><span class="Operator">.</span><span class="Identifier">defaultVal</span><span class="Punctuation">:</span> <span class="Punctuation">(</span><span class="DecNumber">1</span><span class="Punctuation">,</span><span class="DecNumber">2</span><span class="Punctuation">)</span><span class="Operator">.</span><span class="Punctuation">}</span><span class="Punctuation">:</span> <span class="Keyword">tuple</span><span class="Punctuation">[</span><span class="Identifier">x</span><span class="Punctuation">,</span> <span class="Identifier">y</span><span class="Punctuation">:</span> <span class="Identifier">int</span><span class="Punctuation">]</span></pre>

</dd>
<dt id="sparse"><a name="sparse.t"></a><pre><span class="Keyword">template</span> <a href="#sparse.t"><span class="Identifier">sparse</span></a><span class="Other">(</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">pragma</span></span><span class="Other">.}</span></span></pre></dt>
<dd>
<p>This annotation can be put on an object type. During deserialization, the input may omit any field that has an <tt class="docutils literal"><span class="pre">Option[T]</span></tt> type (for any concrete <tt class="docutils literal"><span class="pre">T</span></tt>) and that field will be treated as if it had the annotation <tt class="docutils literal"><span class="pre">{.defaultVal: none(T).}</span></tt>.</p>
<p>Example usage:</p>
<pre class = "listing"><span class="Keyword">type</span> <span class="Identifier">MyObject</span> <span class="Punctuation">{</span><span class="Operator">.</span><span class="Identifier">sparse</span><span class="Operator">.</span><span class="Punctuation">}</span> <span class="Operator">=</span> <span class="Keyword">object</span>
  <span class="Identifier">a</span><span class="Punctuation">:</span> <span class="Identifier">Option</span><span class="Punctuation">[</span><span class="Identifier">string</span><span class="Punctuation">]</span>
  <span class="Identifier">b</span><span class="Punctuation">:</span> <span class="Identifier">Option</span><span class="Punctuation">[</span><span class="Identifier">int</span><span class="Punctuation">]</span></pre>

</dd>
<dt id="transient"><a name="transient.t"></a><pre><span class="Keyword">template</span> <a href="#transient.t"><span class="Identifier">transient</span></a><span class="Other">(</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">pragma</span></span><span class="Other">.}</span></span></pre></dt>
<dd>
<p>This annotation can be put on an object field. Any object field carrying this annotation will not be serialized to YAML and cannot be given a value when deserializing. Giving a value for this field during deserialization is an error.</p>
<p>Example usage:</p>
<pre class = "listing"><span class="Keyword">type</span> <span class="Identifier">MyObject</span> <span class="Operator">=</span> <span class="Keyword">object</span>
  <span class="Identifier">a</span> <span class="Punctuation">{</span><span class="Operator">.</span><span class="Identifier">transient</span><span class="Operator">.</span><span class="Punctuation">}</span><span class="Punctuation">,</span> <span class="Identifier">b</span><span class="Punctuation">:</span> <span class="Identifier">string</span>
  <span class="Identifier">c</span> <span class="Punctuation">{</span><span class="Operator">.</span><span class="Identifier">transient</span><span class="Operator">.</span><span class="Punctuation">}</span><span class="Punctuation">:</span> <span class="Identifier">int</span></pre>

</dd>
<dt id="ignore"><a name="ignore.t,openArray[string]"></a><pre><span class="Keyword">template</span> <a href="#ignore.t%2CopenArray%5Bstring%5D"><span class="Identifier">ignore</span></a><span class="Other">(</span><span class="Identifier">keys</span><span class="Other">:</span> <span class="Identifier">openArray</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">pragma</span></span><span class="Other">.}</span></span></pre></dt>
<dd>
<p>This annotation can be put on an object type. All keys with the given names in the input YAML mapping will be ignored when deserializing a value of this type. This can be used to ignore parts of the YAML structure.</p>
<p>You may use it with an empty list (<tt class="docutils literal"><span class="pre">{.ignore: [].}</span></tt>) to ignore <em>all</em> unknown keys.</p>
<p>Example usage:</p>
<pre class = "listing"><span class="Keyword">type</span> <span class="Identifier">MyObject</span> <span class="Punctuation">{</span><span class="Operator">.</span><span class="Identifier">ignore</span><span class="Punctuation">:</span> <span class="Punctuation">[</span><span class="StringLit">&quot;c&quot;</span><span class="Punctuation">]</span><span class="Operator">.</span><span class="Punctuation">}</span> <span class="Operator">=</span> <span class="Keyword">object</span>
  <span class="Identifier">a</span><span class="Punctuation">,</span> <span class="Identifier">b</span><span class="Punctuation">:</span> <span class="Identifier">string</span></pre>

</dd>
<dt id="implicit"><a name="implicit.t"></a><pre><span class="Keyword">template</span> <a href="#implicit.t"><span class="Identifier">implicit</span></a><span class="Other">(</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">pragma</span></span><span class="Other">.}</span></span></pre></dt>
<dd>
<p>This annotation declares a variant object type as implicit. This requires the type to consist of nothing but a case expression and each branch of the case expression containing exactly one field - with the exception that one branch may contain zero fields.</p>
<p>Example usage:</p>
<pre class = "listing"><span class="Identifier">ContainerKind</span> <span class="Operator">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">ckString</span><span class="Punctuation">,</span> <span class="Identifier">ckInt</span>

<span class="Keyword">type</span> <span class="Identifier">MyObject</span> <span class="Punctuation">{</span><span class="Operator">.</span><span class="Identifier">implicit</span><span class="Operator">.</span><span class="Punctuation">}</span> <span class="Operator">=</span> <span class="Keyword">object</span>
  <span class="Keyword">case</span> <span class="Identifier">kind</span><span class="Punctuation">:</span> <span class="Identifier">ContainerKind</span>
  <span class="Keyword">of</span> <span class="Identifier">ckString</span><span class="Punctuation">:</span>
    <span class="Identifier">strVal</span><span class="Punctuation">:</span> <span class="Identifier">string</span>
  <span class="Keyword">of</span> <span class="Identifier">ckInt</span><span class="Punctuation">:</span>
    <span class="Identifier">intVal</span><span class="Punctuation">:</span> <span class="Identifier">int</span></pre>

</dd>

</dl></section>

  </div>
</div>

    <div class="row">
      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br/>
        <small>Made with Nim. Generated: 2021-05-17 23:01:05 UTC</small>
      </div>
    </div>
  </div>
</article>
</body>
</html>
